AdapterInfo = (IP_ADAPTER_INFO *)buf;

GetAdaptersInfo(AdapterInfo, &dwBufLen);

ofstream outfile;
outfile.open("C:\\FlipperZero\\IP_Addresses");

if (outfile.is_open()) {
    for (PIP_ADAPTER_INFO pAdapterInfo = AdapterInfo; pAdapterInfo != NULL; pAdapterInfo = pAdapterInfo->Next) {
        if (pAdapterInfo->IpAddressList.IpAddress.String != "0.0.0.0") {
            outfile << pAdapterInfo->IpAddressList.IpAddress.String << endl;
        }
    }
}

outfile.close();

return 0;
